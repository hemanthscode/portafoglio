{"version":3,"file":"LazyImage-C5__f-w6.js","sources":["../../src/components/atoms/LazyImage.tsx"],"sourcesContent":["import { memo, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport type { LazyImageProps } from \"@/utils/types\";\n\n// Enhanced with error boundary and better placeholder handling\nconst LazyImage = ({\n  src,\n  alt,\n  className,\n  sizes = \"100vw\",\n  placeholder = \"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\",\n}: LazyImageProps) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [hasError, setHasError] = useState(false);\n\n  if (!src || !alt) {\n    console.warn(\"LazyImage requires src and alt props\");\n    return null;\n  }\n\n  return (\n    <div className={className} role=\"img\" aria-label={alt}>\n      {(!isLoaded || hasError) && (\n        <div\n          className=\"absolute inset-0 bg-gray-200 animate-pulse rounded-xl\"\n          style={{\n            backgroundImage: `url(${placeholder})`,\n            backgroundSize: \"cover\",\n          }}\n          aria-hidden=\"true\"\n        />\n      )}\n      {!hasError && (\n        <motion.img\n          src={src}\n          alt={alt}\n          className=\"w-full h-full object-cover rounded-xl\"\n          loading=\"lazy\"\n          sizes={sizes}\n          onLoad={() => setIsLoaded(true)}\n          onError={() => setHasError(true)}\n          initial={{ opacity: 0 }}\n          animate={{ opacity: isLoaded && !hasError ? 1 : 0 }}\n          transition={{ duration: 0.3 }}\n          decoding=\"async\" // Added for performance\n        />\n      )}\n    </div>\n  );\n};\n\nexport default memo(LazyImage);\n"],"names":["LazyImage$1","memo","src","alt","className","sizes","placeholder","isLoaded","setIsLoaded","useState","hasError","setHasError","role","children","jsx","style","backgroundImage","backgroundSize","motion","img","loading","onLoad","onError","initial","opacity","animate","transition","duration","decoding"],"mappings":"6FAKA,MA8CAA,EAAeC,EAAAA,KA9CG,EAChBC,MACAC,MACAC,YACAC,QAAQ,QACRC,cAAc,yFAEd,MAAOC,EAAUC,GAAeC,EAAAA,UAAS,IAClCC,EAAUC,GAAeF,EAAAA,UAAS,GAEzC,OAAKP,GAAQC,SAMV,MAAA,CAAIC,YAAsBQ,KAAK,MAAM,aAAYT,EAC9CU,SAAA,GAACN,GAAYG,IACbI,EAAAA,IAAC,MAAA,CACCV,UAAU,wDACVW,MAAO,CACLC,gBAAiB,OAAOV,KACxBW,eAAgB,SAElB,cAAY,UAGdP,GACAI,EAAAA,IAACI,EAAOC,IAAP,CACCjB,MACAC,MACAC,UAAU,wCACVgB,QAAQ,OACRf,QACAgB,OAAQ,IAAMb,GAAY,GAC1Bc,QAAS,IAAMX,GAAY,GAC3BY,QAAS,CAAEC,QAAS,GACpBC,QAAS,CAAED,QAASjB,IAAaG,EAAW,EAAI,GAChDgB,WAAY,CAAEC,SAAU,IACxBC,SAAS,aA3BR"}